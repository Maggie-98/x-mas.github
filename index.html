<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åœ£è¯èŠ‚ç¤¼ç‰©äº’æ¢ - X-mas Gift Exchange</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #e60000;
            color: white;
            text-align: center;
            padding: 20px;
        }
        h1 {
            font-size: 36px;
            margin-bottom: 20px;
        }
        select {
            font-size: 18px;
            padding: 10px;
            margin-top: 20px;
        }
        button {
            background-color: #008CBA;
            color: white;
            padding: 15px 32px;
            font-size: 20px;
            border: none;
            cursor: pointer;
            margin-top: 20px;
        }
        button:hover {
            background-color: #005f73;
        }
        .note {
            font-size: 14px;
            margin-top: 30px;
            color: #fff;
        }
        .footer {
            margin-top: 50px;
            font-size: 14px;
            color: #fff;
        }
        .card {
            background-color: #fff;
            color: black;
            width: 200px;
            height: 300px;
            margin: 20px auto;
            border: 2px solid #008CBA;
            font-size: 24px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            display: none;
        }
        #cardFlipped {
            background-color: #ffcc00;
            color: black;
        }
    </style>
</head>
<body>
    <h1>ğŸ„ åœ£è¯èŠ‚ç¤¼ç‰©äº’æ¢ / X-Mas Gift Exchange ğŸ</h1>
    
    <!-- ç¬¬ä¸€æ­¥ï¼šé€‰æ‹©åå­— / Step 1: Choose a Name -->
    <div id="page1" class="page">
        <h2>ç¬¬ä¸€æ­¥ï¼šé€‰æ‹©åå­— / Step 1: Choose a Name</h2>
        <p>è¯·é€‰æ‹©ä¸€ä¸ªåå­—ï¼ˆé¿å…é€‰æ‹©è‡ªå·±ï¼‰/ Choose your name (don't choose yourself):</p>
        <select id="nameSelection">
            <option value="Yvonne">Yvonne</option>
            <option value="Maggie">Maggie</option>
            <option value="Jane">Jane</option>
            <option value="Amy">Amy</option>
            <option value="Yi Mei">Yi Mei</option>
            <option value="Pei Pei">Pei Pei</option>
            <option value="Swee Peng">Swee Peng</option>
        </select>
        <button id="nextBtn1" onclick="nextPage(1)">ä¸‹ä¸€æ­¥ / Next</button>
    </div>

    <!-- ç¬¬äºŒæ­¥ï¼šç¿»ç‰Œæ¨¡å¼ / Step 2: Draw a Card -->
    <div id="page2" class="page" style="display:none;">
        <h2>ç¬¬äºŒæ­¥ï¼šç¿»ç‰Œæ¨¡å¼ / Step 2: Draw a Card</h2>
        <p>ç‚¹å‡»ä¸‹é¢çš„å¡ç‰‡æ¥æŠ½é€‰ç¤¼ç‰©å¯¹è±¡ï¼ï¼ˆåªèƒ½ç¿»ä¸€å¼ ï¼‰/ Click the card to draw a gift exchange (only one card can be flipped):</p>
        <div class="card" id="card" onclick="flipCard()">
            ç‚¹å‡»ç¿»ç‰Œ / Click to Flip
        </div>
        <button id="nextBtn2" onclick="nextPage(2)" style="display:none;">ä¸‹ä¸€æ­¥ / Next</button>
    </div>

    <!-- ç¬¬ä¸‰æ­¥ï¼šæ€»ç»“ / Step 3: Summary -->
    <div id="page3" class="page" style="display:none;">
        <h2>ç¬¬ä¸‰æ­¥ï¼šæ€»ç»“ / Step 3: Summary</h2>
        <p id="summary"></p>
        <p id="time"></p>
        <p class="note">å¦‚æœæ‚¨é‡æ–°è¿›å…¥é“¾æ¥ï¼Œå°†ç›´æ¥è·³è½¬åˆ°æ­¤é¡µé¢ï¼Œæ— æ³•é‡æ–°æŠ½é€‰ã€‚/ If you reload, you will directly land on this page and cannot redraw.</p>
    </div>

    <footer>
        <p>&copy; 2025 åœ£è¯èŠ‚ç¤¼ç‰©äº’æ¢ - X-Mas Gift Exchange</p>
    </footer>

    <script>
        // å…¨å±€å˜é‡
        let selectedName = '';
        let recipient = '';
        const participants = ["Yvonne", "Maggie", "Jane", "Amy", "Yi Mei", "Pei Pei", "Swee Peng"];
        let isCardFlipped = false;

        // ç¬¬ä¸€æ­¥ï¼šç‚¹å‡»ä¸‹ä¸€æ­¥
        function nextPage(step) {
            if (step === 1) {
                selectedName = document.getElementById("nameSelection").value;
                // ç¦æ­¢é€‰æ‹©è‡ªå·±
                if (!selectedName) {
                    alert("è¯·é€‰æ‹©æœ‰æ•ˆçš„åå­—ï¼");
                    return;
                }
                document.getElementById("page1").style.display = "none";
                document.getElementById("page2").style.display = "block";
            } else if (step === 2) {
                // éšæœºé€‰å–ä¸€ä¸ªäº¤æ¢å¯¹è±¡ï¼ˆé¿å…é€‰æ‹©è‡ªå·±ï¼‰
                const remainingNames = participants.filter(name => name !== selectedName);
                const randomIndex = Math.floor(Math.random() * remainingNames.length);
                recipient = remainingNames[randomIndex];
                document.getElementById("card").innerText = recipient;
                document.getElementById("nextBtn2").style.display = "block";
                document.getElementById("card").innerText = "æ‚¨å°†ä¸º " + recipient + " å‡†å¤‡ç¤¼ç‰©ï¼";
            }
        }

        // ç¿»ç‰Œå‡½æ•°
        function flipCard() {
            if (!isCardFlipped) {
                document.getElementById("card").style.display = "flex";
                document.getElementById("card").id = "cardFlipped"; // æ”¹å˜å¡ç‰‡æ˜¾ç¤º
                isCardFlipped = true;
            }
        }

    </script>
</body>
</html>
